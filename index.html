
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Learn graphics programming">
    <title>Learn graphics programming</title>
    <meta name="author" content="Victor Peter Rouven Müller">
    
    
    
    <meta property="og:type" content="blog">
<meta property="og:title" content="Learn graphics programming">
<meta property="og:url" content="https://realvictorprm.github.io/PlaygroundOpenGL/index.html">
<meta property="og:site_name" content="Learn graphics programming">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learn graphics programming">
<meta name="twitter:creator" content="@realvictorprm">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/PlaygroundOpenGL/assets/css/style-sxklfps8ywgfyyjcowvnb4gxdgt0zjts3hsguljmv9uqanxjbnitrovtbrek.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/PlaygroundOpenGL/ ">Learn graphics programming</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/PlaygroundOpenGL/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/PlaygroundOpenGL/all-categories"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/PlaygroundOpenGL/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/realvictorprm" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/realvictorprm" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/PlaygroundOpenGL/atom.xml"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/PlaygroundOpenGL/2017/07/18/Surface-Nets/">
                            Naive Surface Nets
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-07-18T16:37:24+02:00">
	
		    Jul 18, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="Isosurface-extraction"><a href="#Isosurface-extraction" class="headerlink" title="Isosurface extraction"></a>Isosurface extraction</h1><h3 id="1-How-do-naive-surface-nets-work"><a href="#1-How-do-naive-surface-nets-work" class="headerlink" title="1. How do naive surface nets work?"></a>1. How do naive surface nets work?</h3><h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem:"></a>Problem:</h4><p>We want a easy algorithm for iso surface extraction that people can understand. </p>
<p>Solution is surface nets!</p>
<h4 id="Idea"><a href="#Idea" class="headerlink" title="Idea: "></a>Idea: <p align="justify"></p></h4><p>Approach is following, consider an amount of 3D voxel data. Just like in the famous Marching Cubes algorithm we’re going to iterate blockwise over our voxel data (results in a 3D grid system).<br>Each block consists of 8 voxels - a 3D cube. To extract a surface out from this data we asume that each block (with edge intersections) returns a single vertex. Each vertex from a cube is linked to the next block so in the end we have only <em>quads</em> which can be easily drawn. Furthermore we also assume that the block vertex is most likely to be in the middle of the cube (so x = 0.5, y = 0.5 and z = 0.5 considering normalized values). This system already gives us a valid algorithm for extracting a surface out of 3D voxel data, see image below.<br></p><p></p>
<img src="/PlaygroundOpenGL/2017/07/18/Surface-Nets/NonInterpolatedPlayingWithShaders.PNG" alt="[Block Torus]" title="[Block Torus]">
<p align="justify"><br>However if we want special interpolation the situation get’s a bit more complicated.<br><br>Main idea here is just to interpolate between each intersection edge, e.g. between vertex a and vertex b where each has a specific scalar value.<br><br>To understand the interpolation algorithm used here we first need to cover something else too.<br></p>

<h2 id="2-The-Vertex-and-edge-intersection-lookup-table"><a href="#2-The-Vertex-and-edge-intersection-lookup-table" class="headerlink" title="2. The Vertex and edge intersection lookup table "></a>2. The Vertex and edge intersection lookup table <p align="justify"></p></h2><p>The edge intersection detection, interpolation and face generation relies upon a lookup table for speedup. In the implementation there are provided two lookup tables each relying on a specific order of the vertex and edge indicies (for the cube). The first one maps an edge index to the correct vertex pair, the second table matches the vertex mask to the edge intersection mask.<br>Vertex mask means here which vertices are not in the surface (their bits are not set).<br></p><p></p>
<h2 id="3-The-Vertex-and-edge-index-order"><a href="#3-The-Vertex-and-edge-index-order" class="headerlink" title="3. The Vertex and edge index order "></a>3. The Vertex and edge index order <p align="justify"></p></h2><p>The calculation of the edge table only works if we define a specific number order for our vertices.<br>The underlying picture shows the defined vertex number order for our implementation.<br></p><p></p>
<img src="/PlaygroundOpenGL/2017/07/18/Surface-Nets/CubeIndexOrder.png" alt="[Index order vertices]" title="[Index order vertices]">
<h3 id="3-1-Explaining-the-Vertex-order"><a href="#3-1-Explaining-the-Vertex-order" class="headerlink" title="3.1 Explaining the Vertex order"></a>3.1 Explaining the Vertex order</h3><p>The order of those indices have a logical reason. Each axis correspondends to a single bit:</p>
<ul>
<li>first bit for x</li>
<li>second bit for y</li>
<li>third bit for z</li>
</ul>
<blockquote>
<p><strong>Note</strong>: This does work because we have a maximum of 8 edges in a cube which can be represented by log(8) / log(2) bits (which is 3)!</p>
</blockquote>
<p><br></p>
<h3 id="3-2-Example"><a href="#3-2-Example" class="headerlink" title="3.2 Example"></a>3.2 Example</h3><p>Just to get conform with this unusual mapping of coordinates here an example:</p>
<p><strong>Question</strong>:<br>Where is vertex <em>3</em> located?</p>
<p><strong>Thoughts</strong>:<br>=&gt; To get the coordinates we have to look into it’s binary representation</p>
<p><strong>Answer</strong>:</p>
<table>
<thead>
<tr>
<th>z</th>
<th>y</th>
<th>x</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>It’s telling us to move one towards us (x), then to move one left (y).<br>The height is zero (z).</p>
<p>The edges have a specific order too which is respectively in the implementation. The picture below shows the edge number order.</p>
<h2 id="4-The-optimized-interpolation"><a href="#4-The-optimized-interpolation" class="headerlink" title="4. The optimized interpolation"></a>4. The optimized interpolation</h2><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Fast interpolation algorithm, multiplication is done in the end</span></div><div class="line"><span class="keyword">let</span> interpolateVertices () =</div><div class="line">    <span class="keyword">let</span> <span class="keyword">rec</span> iterate i e_count (vertices:float[]) =</div><div class="line">        <span class="keyword">if</span> i &lt; <span class="number">12</span> <span class="keyword">then</span></div><div class="line">            <span class="keyword">if</span> hasFlag PowerOfTwo.[i] edge_mask <span class="keyword">then</span></div><div class="line">                <span class="keyword">let</span> e0, e1 = cubeEdgesSurfacenets.[i]</div><div class="line">                <span class="keyword">let</span> g0, g1 = block.[e0], block.[e1]</div><div class="line">                <span class="keyword">let</span> diff = g0 - g1</div><div class="line">                <span class="comment">// Here we can specify whether an interpolation should be discarded if the values are too near</span></div><div class="line">                <span class="keyword">if</span> abs diff &gt; <span class="number">1e-6</span> <span class="keyword">then</span> </div><div class="line">                    <span class="keyword">let</span> t = g0 / diff</div><div class="line">                    <span class="keyword">let</span> res = </div><div class="line">                        [|  <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">0.</span><span class="number">.2</span> <span class="keyword">do</span></div><div class="line">                                <span class="keyword">let</span> k = PowerOfTwo.[j]</div><div class="line">                                <span class="keyword">let</span> a = hasFlag k e0 <span class="comment">//(e0 &amp;&amp;&amp; k)</span></div><div class="line">                                <span class="keyword">let</span> b = hasFlag k e1 <span class="comment">//(e1 &amp;&amp;&amp; k)</span></div><div class="line">                                <span class="keyword">let</span> res = </div><div class="line">                                    <span class="keyword">if</span> (a &lt;&gt; b) <span class="keyword">then</span> </div><div class="line">                                        t</div><div class="line">                                    <span class="keyword">elif</span> a <span class="keyword">then</span></div><div class="line">                                        <span class="number">1.</span></div><div class="line">                                    <span class="keyword">else</span></div><div class="line">                                        <span class="number">0.0</span></div><div class="line">                                <span class="keyword">yield</span> vertices.[j] + res |]</div><div class="line">                    iterate (i + <span class="number">1</span>) (e_count + <span class="number">1</span>) res</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    iterate (i + <span class="number">1</span>) (e_count + <span class="number">1</span>) vertices</div><div class="line">            <span class="keyword">else</span></div><div class="line">                iterate (i + <span class="number">1</span>) e_count vertices</div><div class="line">        <span class="keyword">else</span></div><div class="line">            vertices, e_count</div><div class="line">    <span class="keyword">let</span> vertices, e_count = iterate <span class="number">0</span> <span class="number">0</span> [| <span class="number">0.0</span>; <span class="number">0.0</span>; <span class="number">0.0</span> |]</div><div class="line">    <span class="keyword">let</span> s = <span class="number">1.0</span> / float e_count</div><div class="line"></div><div class="line">    <span class="comment">// finally normalize the values again and afterwards translate them centric to the grid.</span></div><div class="line">    float z1 + s * vertices.[<span class="number">0</span>] - zMaxHalf,</div><div class="line">    float y1 + s * vertices.[<span class="number">1</span>] - yMaxHalf,</div><div class="line">    float x1 + s * vertices.[<span class="number">2</span>] - xMaxHalf</div></pre></td></tr></table></figure>
<p>Let’s take a look into the interpolation algorithm provided here. Because it isn’t straightforward, I’ll try to explain here what’s happening.</p>
<p>With naive surface nets we assume that the vertex is in the middle, due to this we have special conditions.<br>The workflow is following:</p>
<ul>
<li>1th The vertex values are initial zero</li>
<li>2th We apply all interpolation first and normalize the new values last.</li>
<li>3th We use the edge intersection mask to get the specific vertex indicies to those</li>
<li>4th The vertex indicies are distributed special and so we can do following:<br>– We shift 1.0 in x direction if both indicies first bit is set.<br>  So all edges towards infinite positive x.<br>  or in short - it’s either edge 3, 10, 7 or 4 -<br>– We shift 1.0 in y direction if both indicies second bit is set.<br>  So all edges towards infinite positive y.<br>  or in short - it’s either edge 5, 6, 7 or 11 -<br>– We shift 1.0 in z direction if both indicies third bit is set.<br>  So all edges towards infinite positive z.<br>– We do not shift in x direction if both indices first bit is <em>not</em> set<br>  So all edges towards infinite negative x direction.<br>– We do not shift in y direction if both indices second bit is <em>not</em> set<br>  So all edges towards infinite negative y direction.<br>– We do not shift in z direction if both indices third bit is <em>not</em> set<br>  So all edges towards infinite negative z direction.<br>– We shift up with the interpolated value if the indicies are in axis direction (e.g. x or y or z)<br>  Just all edges which are parallel to the axis direction.<br>=&gt; In short, the bitmasking operations allows here fast applying the interpolation correctly.</li>
<li>Lastly we normalize the result values (using the edge intersection counter) and translate the values so the resulting mesh is centered around the middle of the grid (e.g. zero)</li>
</ul>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Of course it’s possible to provide a different solution for the interpolation algorithm due to it’s worse readability.<br>However the lookup tables are something which should be used <em>AS IS</em> because they are very difficult to construct.<br>If you need a working implementation feel free to use the one provided below (written in F#).</p>
<p>Results may look like this:</p>
<img src="/PlaygroundOpenGL/2017/07/18/Surface-Nets/PlayingWithShaders.PNG" alt="[Block Torus]" title="[Block Torus]">
<h2 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h2><p>Sure, I used some sources too, the algorithm below is a translation from JS to F#.<br>The JS code is comming from <a href="https://0fps.net/2012/07/12/smooth-voxel-terrain-part-2/" target="_blank" rel="external">this</a> awesome blog. I really recommend to read this one too especially because it provides a working JS example!</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><script src="https://gist.github.com/realvictorprm/06bbce3c9935a1d148562ec01990216c.js"></script>

                    
                        
                    
                    
                        <p>
                            <a href="/PlaygroundOpenGL/2017/07/18/Surface-Nets/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/PlaygroundOpenGL/2017/07/18/Surface-Nets/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" itemprop="image" src="https://www.opengl.org/img/opengl_logo.png"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/PlaygroundOpenGL/2017/07/17/Build-tools/">
                            Build tool change
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-07-17T21:30:27+02:00">
	
		    Jul 17, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="Short-look-into-common-C-build-tools"><a href="#Short-look-into-common-C-build-tools" class="headerlink" title="Short look into common C++ build tools"></a>Short look into common C++ build tools</h1><p>Build tools for C++ are still these days a difficult topic. To know them is very important because often you want to run conform with the rest of the world. </p>
<h2 id="CMAKE"><a href="#CMAKE" class="headerlink" title=" CMAKE"></a><img src="https://cmake.org/wp-content/uploads/2014/06/slider-cmake.png" height="50"> <a href="https://cmake.org" target="_blank" rel="external">CMAKE</a></h2><p align="justify"><br>These days mostly used build tool is definitely <em>CMAKE</em>. Heavy usage is seen e.g. with Qt and other big libraries.<br>CMAKE in detail consists mainly of a single file called <em>CMakeLists.txt</em> (sometimes some helper script files are added for seperation).<br>This file describes the library requirements, header requirements, include folders etc. However it’s only used to generate the final build script files like <em>GNU Makefiles</em> or <em>Visual Studio solution files</em> through inputing it into the cmake command line tool. In short, sounds like a good tool <em>but</em> the language used to write those description files (cmakelist.txt) is a <em>weird variation of bash</em>. Definitely it isn’t that comfortable to work with and so some people still prefer other build tools. Last note, using CMAKE requires that the client has CMAKE installed.<br></p>

<h2 id="Premake"><a href="#Premake" class="headerlink" title=" Premake"></a><img src="https://premake.github.io/premake-logo.png" height="50"> <a href="https://premake.github.io" target="_blank" rel="external">Premake</a></h2><p align="justify"><br>Another widely used tool is <em>premake</em>. Used by big game companies like <em>Blizzard</em> it’s definitely a tool to go. In general premake works the same like CMAKE however instead of using a weird variation of bash or other weird and uncomfortable languages it just makes usage of <em>Lua</em>. And so the build files are often very easy to write for normal developers because Lua is a widely know language without special knowledge requirements. Easy, simple, nice! Of course <em>premake</em> has some special functions and writings but it’s also very easy to understand. Nevertheless, best thing about <em>premake</em> is that it’s a lot easier to read compared to <em>CMAKE</em>. Unfortunately there are some reasons why <em>premake</em> isn’t as much used as <em>CMAKE</em>. One of those reasons is the lack of functionality e.g. passing special build command flags for the C++ compiler. Last note, using Premake requires the client <em>not</em> to have it installed. It’s often <em>shipped with the repository</em> as you may have noticed with mine.<br></p>

<h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><p>Due to the lack of selecting special C++ language version with Premake I’m pushed to switch the repositories build system to CMAKE. Unfortunately I’m using C++17 features which need special build flags. It’s really a bummer, <em>Premake</em> isn’t capable of this yet.. <em>yet</em> my friends!</p>
<p>Now let’s work on switching the build system!</p>

                    
                        
                    
                    
                        <p>
                            <a href="/PlaygroundOpenGL/2017/07/17/Build-tools/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/PlaygroundOpenGL/2017/07/17/Build-tools/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" itemprop="image" src="https://www.opengl.org/img/opengl_logo.png"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/PlaygroundOpenGL/2017/07/17/First-showcase/">
                            First showcase
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-07-17T17:33:21+02:00">
	
		    Jul 17, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>With this repo here I finally started getting deeper into graphics programming and so I already can show some results.</p>
<p>To get into OpenGL I’ve used the incredible good tutorials found <a href="https://learnopengl.com" target="_blank" rel="external">here</a>.</p>
<h2 id="1-Basic-lighting-materials"><a href="#1-Basic-lighting-materials" class="headerlink" title="1. Basic lighting, materials"></a>1. Basic lighting, materials</h2><p>I’ve made my way through those basic parts and produced nice colored cubes.<br>During my experiments with the lighting I ran into some minor bugs in the specular shading</p>
<img src="/PlaygroundOpenGL/2017/07/17/First-showcase/Fail.gif" alt="[inverted_specular_shading]" title="[inverted_specular_shading]">
<p>Reason for this was, that my material data wasn’t multiplied as stated at this <a href="http://devernay.free.fr/cours/opengl/materials.html" target="_blank" rel="external">site</a> (where I’ve picked the data).<br>This resulted in inverted specular shading due to that my numbers were instead of above <em>1.0</em> under <em>1.0</em>.</p>
<p>After fixing this bug I went over to the next exciting topics. </p>
<h2 id="2-Loading-models"><a href="#2-Loading-models" class="headerlink" title="2. Loading models"></a>2. Loading models</h2><p>I guess this is one of the most important milestones in self-study sessions about graphics programming.<br>However it’s also one of the most annoying topics because there are plenty of 3d model formats. Thankfully there is a library called (assimp)[] which abstracts this for us.</p>
<p>The tutorial provided nice loading code (well compatible with the generated data structures during our sessions) which I instantly adopted because I’m lazy.<br>Nevertheless I was active enough to give the code a more functional style ignoring the object style.</p>
<p>Moreover it worked without big problems so I loaded in the example model from the tutorial. Instead of the popular teapot or monkeys or whateverelse-is-popular-out-there we loaded in a model from the more or less popular game crisis. </p>
<img src="/PlaygroundOpenGL/2017/07/17/First-showcase/crisis_model.png" alt="[crisis_model]" title="[crisis_model]">
<p>This is from a few days ago and you see that the lighting is pretty fine. Could be better yeah.</p>
<p>What’s next? More interesting topics like skyboxes!</p>
<h2 id="3-Skyboxes-environment-mapping-dynamics"><a href="#3-Skyboxes-environment-mapping-dynamics" class="headerlink" title="3. Skyboxes, environment mapping, dynamics"></a>3. Skyboxes, environment mapping, dynamics</h2><p>After nice model loading I went back to my nice cube starting to implement some skybox support. Of course the tutorial helped here again, telling us what is needed.<br>We had a lesson about cubemaps and simple reflection mathematics (which weren’t that unfamiliar to me) which resulted finally in this.</p>
<img src="/PlaygroundOpenGL/2017/07/17/First-showcase/first_skybox_rendering.png" alt="[first_skybox_rendering]" title="[first_skybox_rendering]">
<p>This time we see a nice cup (unfortunately without any coffee!) which was made by a friend of mine, Benjamin.<br>The cup doesn’t reflect anything yet but this was just a proove of concept (both for the skybox and the model loading code).</p>
<h3 id="4-Static-and-dynamic-environment-mapping"><a href="#4-Static-and-dynamic-environment-mapping" class="headerlink" title="4. Static and dynamic environment mapping"></a>4. Static and dynamic environment mapping</h3><p>After I noticed it works, I went over to add some reflection mechanics to the fragment shader.<br>The algorithm here used was static environment mapping. It just uses a cubemap (here the skybox) to get data about the environment. The results are some static reflections. </p>
<p>Unfortunately I didn’t grabbed any picture of this one. Sorry :-(<br>However more interesting were the dynamic reflections which I added afterwards without further tutorial help. The algorithm there is called dynamic environment mapping.</p>
<p>It wasn’t that difficult to achieve dynamic environment mapping. It works in general like this (with some important notes from me):</p>
<ol>
<li>Render the scene offscreen to a cubemap, keep in mind to use here the skybox as initial cubemap.</li>
</ol>
<ul>
<li>Use a 90° projection matrix, the resulting images must create a cube.</li>
<li>Keep in mind that cube map images must have the <em>same width and height</em>!</li>
<li>You need to render the scene 6-times, each time looking into a different direction! (front, back, left, right, top, bottom)</li>
<li>Only the position of the camera is needed, you can safely ignore the rotation. Of course this only applies if you’re calculating the reflection vectors without respecting camera rotation (which you normaly do to reduce any confusion, we want to stay always in the same virtual system).</li>
</ul>
<ol>
<li>Render the scene a second time but use the resulting cubemap from the first rendering.</li>
</ol>
<ul>
<li>If you’re using OpenGL don’t forget to reset the framebuffer index so you’re rendering to the real screen and not <em>off-screen</em>! </li>
</ul>
<ol>
<li>Enjoy the results (if you rendered correctly to the cubemap).</li>
</ol>
<ul>
<li>No popcorn yet!</li>
</ul>
<img src="/PlaygroundOpenGL/2017/07/17/First-showcase/ReflectionTest3.gif" alt="[ReflectionTest3]" title="[ReflectionTest3]">
<p>You can see that the reflections work quite nicely.</p>

                    
                        
                    
                    
                        <p>
                            <a href="/PlaygroundOpenGL/2017/07/17/First-showcase/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/PlaygroundOpenGL/2017/07/17/First-showcase/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" itemprop="image" src="https://www.opengl.org/img/opengl_logo.png"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/PlaygroundOpenGL/2017/07/17/First-post/">
                            First post
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-07-17T17:18:37+02:00">
	
		    Jul 17, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>Hello fellow devs out there, this is my first blog post for the learn graphics programming repository.<br>I’ll track here my progress, what I’m doing, maybe some tutorials too on how to do this and that, stay tuned!</p>

                    
                        
                    
                    
                        <p>
                            <a href="/PlaygroundOpenGL/2017/07/17/First-post/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/PlaygroundOpenGL/2017/07/17/First-post/">
                <div class="postShorten-thumbnailimg">
                    <img alt="" itemprop="image" src="https://www.opengl.org/img/opengl_logo.png"/>
                </div>
            </a>
            
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2017 Victor Peter Rouven Müller. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <h4 id="about-card-name">Victor Peter Rouven Müller</h4>
        
            <div id="about-card-bio"><p>Just a guy.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Mainly Student but also Open Source Developer</p>

            </div>
        
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/17/First-post/">
                            <img class="media-image" src="https://www.opengl.org/img/opengl_logo.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/17/First-post/">
                            <h3 class="media-heading">First post</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 17, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/17/First-showcase/">
                            <img class="media-image" src="https://www.opengl.org/img/opengl_logo.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/17/First-showcase/">
                            <h3 class="media-heading">First showcase</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 17, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/17/Build-tools/">
                            <img class="media-image" src="https://www.opengl.org/img/opengl_logo.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/17/Build-tools/">
                            <h3 class="media-heading">Build tool change</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 17, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/18/Surface-Nets/">
                            <img class="media-image" src="https://www.opengl.org/img/opengl_logo.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://realvictorprm.github.io/PlaygroundOpenGL/2017/07/18/Surface-Nets/">
                            <h3 class="media-heading">Naive Surface Nets</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 18, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="no post found"
                data-message-one="1 post found"
                data-message-other="{n} posts found">
                4 posts found
            </p>
        </div>
    </div>
</div>

        
<div id="cover" style="background-image:url('/PlaygroundOpenGL/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/PlaygroundOpenGL/assets/js/script-ivwiy10zeb8fifc4swnhkwneuk64y53w2scmdmtp8thi9cqfxh31aowtroaz.min.js"></script>
<!--SCRIPTS END-->


    </body>
</html>
